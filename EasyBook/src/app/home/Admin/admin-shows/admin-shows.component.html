<div class="container">
  <div class="row">
    <div class="col-md-8">
      <h1>Shows</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-12 mx-md-auto overflow-auto">
      <button
        type="button"
        class="btn btn-primary"
        data-bs-toggle="modal"
        data-bs-target="#exampleModalXl"
      >
        add
      </button>
      <table class="table" style="width: 900px">
        <thead class="bg-secondary table-responsive-sm">
          <tr>
            <th>Sr.No</th>
            <th>Movie Title</th>
            <th>Theater</th>
            <th>Date</th>
            <th>City</th>
            <th>Time</th>
            <th>action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of shows; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{item.movie_id.title}}</td>
            <td>{{ item.theater_id?.name }}</td>
            <td>{{ item.date }}</td>
            <td>{{ item.city }}</td>
            <td>{{ item.time }}</td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div
  class="modal fade"
  id="exampleModalXl"
  tabindex="-1"
  aria-labelledby="exampleModalXlLabel"
  style="display: none"
  aria-hidden="true"
>
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        Add Show
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form action=""   [formGroup]="showsForm" >
          <div class="form-group">
            <label for="movie" class="form-label">Select Movie</label>
            <select name="" id="" class="form-select" formControlName="movie_id">
              <option value="" disabled selected>Selecte Movie</option>
              <option *ngFor="let item of movies" value="{{ item._id }}">
                {{ item.title }}
              </option>
            </select>
          </div>
          <div class="form-group">
            <label for="movie" class="form-label">Select Theater</label>
            <select name="theater" id="" class="form-select" [(ngModel)]="selectedTheater" (change)="onSelectTheater()" formControlName="theater_id">
              <option value="" disabled selected>Selecte Theater</option>
              <option *ngFor="let item of theaters" value="{{ item._id }}">
                {{ item.name }}
              </option>
            </select>
          </div>
          <div class="form-group">
            <label for="movie" class="form-label">Select City</label>
             <select  name="" class="form-control" id="" placeholder="city" formControlName="city">
              <option *ngFor="let city of cities" value="{{ city }}">
                {{ city }}
              </option>
              </select>
          </div>
          <div class="form-group">
            <label for="movie" class="form-label">Select Date</label>
             <input type="date" name="" class="form-control" id="" placeholder="" formControlName="date">
          </div>
          <div class="form-group">
            <label for="movie" class="form-label">Select Time</label>
            <select name="" class="form-select" id="" formControlName="time">
              <option *ngFor="let time of timings" value="{{ time }}">
                {{ time }}
              </option>
            </select>
          </div>
          <div class="form-group">
              <button class="btn btn-info" [disabled]="showsForm.invalid" (click)="createShow()" data-bs-dismiss="modal"
              aria-label="Close">Create Show</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
